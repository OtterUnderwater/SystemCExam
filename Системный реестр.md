### 17 - Запись и считывание числовых параметров в системный реестр

![[Pasted image 20241225015409.png]]

```C
#include <Windows.h>
#include <stdio.h>

int main()
{
	system("chcp 1251");
	HKEY hKey;
	if (RegOpenKeyA(HKEY_CURRENT_USER, 0, &hKey) == ERROR_SUCCESS)
	{
		DWORD value = 1414;
		if (RegSetValueExA(hKey, "Параметр", 0, REG_DWORD, &value, 4) == ERROR_SUCCESS)
		{
			DWORD type; DWORD data; DWORD len;
			LSTATUS status = RegGetValueA(hKey, 0, "Параметр", RRF_RT_REG_DWORD, &type, &data, &len);
			printf("Значение из реестра: %d", data);
		}
		RegCloseKey(hKey);
	}
}
```
### 14 - Запись и считывание строковых параметров в системный реестр.

```C
#include <Windows.h>
#include <stdio.h>

int main()
{
	system("chcp 1251");
	HKEY hKey;
	if (RegOpenKeyA(HKEY_CURRENT_USER, 0, &hKey) == ERROR_SUCCESS)
	{
		char* value = "hello";
		if (RegSetValueExA(hKey, "Параметр", 0, REG_SZ, value, strlen(value) * sizeof(WCHAR)) == ERROR_SUCCESS)
		{
			DWORD type;
			PVOID data[100];
			DWORD len = 100;
			LSTATUS status = RegGetValueA(hKey, 0, "Параметр", RRF_RT_REG_SZ, &type, &data, &len);
			printf("Значение из реестра: %s", data);
		}
		RegCloseKey(hKey);
	}	
}
```